{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet page = 1;\nlet searchQuery = '';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nfunction searchImages(query) {\n  const BASE_URL = 'https://pixabay.com/api';\n  const API_KEY = '41838546-9d950a50e841202e6c289d2dd';\n\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=9`;\n\n  loader.classList.add('show');\n\n  fetch(url)\n    .then(function (response) {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(function (data) {\n      const images = data.hits;\n\n      if (images.length === 0) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          theme: 'dark',\n          position: 'topCenter',\n          timeout: 3000,\n        });\n      } else {\n        if (page === 1) {\n          gallery.innerHTML = '';\n        }\n\n        images.forEach(function (image) {\n          const card = `<div class=\"card\">\n              <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n              </a>\n              <div class=\"card-info\">\n                <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n              </div>\n            </div>`;\n          gallery.insertAdjacentHTML('beforeend', card);\n        });\n\n        lightbox.refresh();\n\n        page++;\n      }\n    })\n    .catch(function (error) {\n      iziToast.show({\n        title: 'Error',\n        message:\n          'Sorry, there was an error processing your request. Please try again later!',\n        theme: 'dark',\n        position: 'topCenter',\n        timeout: 3000,\n      });\n      console.log(error);\n    })\n    .finally(function () {\n      loader.classList.remove('show');\n    });\n}\n\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n  searchQuery = input.value.trim();\n  if (searchQuery !== '') {\n    searchImages(searchQuery);\n    form.reset();\n  }\n});\n"],"names":["form","input","gallery","loader","page","searchQuery","lightbox","SimpleLightbox","searchImages","query","url","response","data","images","iziToast","image","card","error","event"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAO,EACPC,EAAc,GAElB,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAEhD,SAASC,EAAaC,EAAO,CAI3B,MAAMC,EAAM,oEAAgCD,kEAAsEL,eAElHD,EAAO,UAAU,IAAI,MAAM,EAE3B,MAAMO,CAAG,EACN,KAAK,SAAUC,EAAU,CACxB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAK,SAAUC,EAAM,CACpB,MAAMC,EAASD,EAAK,KAEhBC,EAAO,SAAW,EACpBC,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,MAAO,OACP,SAAU,YACV,QAAS,GACnB,CAAS,GAEGV,IAAS,IACXF,EAAQ,UAAY,IAGtBW,EAAO,QAAQ,SAAUE,EAAO,CAC9B,MAAMC,EAAO;AAAA,yBACED,EAAM;AAAA,4BACHA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,4BAGlCA,EAAM;AAAA,4BACNA,EAAM;AAAA,+BACHA,EAAM;AAAA,gCACLA,EAAM;AAAA;AAAA,oBAG5Bb,EAAQ,mBAAmB,YAAac,CAAI,CACtD,CAAS,EAEDV,EAAS,QAAO,EAEhBF,IAER,CAAK,EACA,MAAM,SAAUa,EAAO,CACtBH,EAAS,KAAK,CACZ,MAAO,QACP,QACE,6EACF,MAAO,OACP,SAAU,YACV,QAAS,GACjB,CAAO,EACD,QAAQ,IAAIG,CAAK,CACvB,CAAK,EACA,QAAQ,UAAY,CACnBd,EAAO,UAAU,OAAO,MAAM,CACpC,CAAK,CACL,CAEAH,EAAK,iBAAiB,SAAU,SAAUkB,EAAO,CAC/CA,EAAM,eAAc,EACpBb,EAAcJ,EAAM,MAAM,OACtBI,IAAgB,KAClBG,EAAaH,CAAW,EACxBL,EAAK,MAAK,EAEd,CAAC"}