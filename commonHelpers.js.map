{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet page = 1;\nlet searchQuery = '';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nfunction searchImages(query) {\n  const BASE_URL = 'https://pixabay.com/api';\n  const API_KEY = '41838546-9d950a50e841202e6c289d2dd';\n\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=12`;\n\n  loader.classList.add('show');\n\n  fetch(url)\n    .then(function (response) {\n      return response.json();\n    })\n    .then(function (data) {\n      const images = data.hits;\n\n      if (images.length === 0) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          theme: 'dark',\n          position: 'topCenter',\n          timeout: 3000,\n        });\n      } else {\n        if (page === 1) {\n          gallery.innerHTML = '';\n        }\n\n        images.forEach(function (image) {\n          const card = `<div class=\"card\">\n              <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n              </a>\n              <div class=\"card-info\">\n                <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n              </div>\n            </div>`;\n          gallery.insertAdjacentHTML('beforeend', card);\n        });\n\n        lightbox.refresh();\n      }\n\n      loader.classList.remove('show');\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n"],"names":["SimpleLightbox"],"mappings":"svBAKa,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EACpC,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAK9B,IAAIA,EAAe,YAAY"}